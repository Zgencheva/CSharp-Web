@model VisitACity.Web.ViewModels.Plans.PlanViewModel
@{
    var rnumTarget = "#" + "r" + Model.Id;
    var id = "r" + Model.Id;
}
<tr data-bs-toggle="collapse" data-bs-target=@rnumTarget>
    <th scope="row"> <i class="fa fa-angle-down"></i> @Model.CityName</th>
    <td>@Model.CityCountryName</td>
    <td>@Html.DisplayFor(x => x.FromDate)</td>
    <td>@Html.DisplayFor(x => x.ToDate)</td>
    <td>@Model.Days</td>
    <td>
        <a class="btn btn-danger delete mb-2 fas fa-delete" data-id="@Model.Id" data-controller="Plan" data-action="Delete" data-body-message="Are you sure you want to delete this plan?" data-redirect-url="/Plan/MyPlans">
            <i class="fas fa-trash"></i>
            Delete
        </a>
    </td>
</tr>

<tr class="collapse accordion-collapse" id=@id data-bs-parent=".table">
    <td colspan="5">
        <h5 class="text-center">Attractions:</h5>
        @if (!Model.Attractions.Any())
        {
            <div class="text-center">No attractions added to this plan yet.</div>
        }
        else
        {
            <ol class="list-group list-group-numbered">


                @foreach (var attraction in @Model.Attractions)
                {
                    <div>
                    <li class="list-group-item d-flex justify-content-between align-items-start">
                        <div class="ms-2 me-auto">
                            <div class="fw-bold">@attraction.Name</div>
                                @attraction.Description
                            <br>
                            Visit the attraction <a asp-action="Details" asp-controller="Attraction" asp-route-id="@attraction.Id">here</a>
                        </div>
                               <a class="btn btn-danger delete mb-2 fas fa-delete rounded-pill" data-id="@attraction.Id" data-controller="Plan" data-action="DeleteAttractionFromPlan" data-body-message="Are you sure you want to delete this attraction?">
                                <i class="fas fa-trash"></i>
                                Delete
                                </a>
                    </li>
                    </div>
                }
            </ol>
        }

        <h5 class="text-center">Restaurants:</h5>
        @if (!Model.Restaurants.Any())
        {
            <div class="text-center">No restaurants added to this plan yet.</div>
        }
        else
        {
            <ol class="list-group list-group-numbered">

                @foreach (var restaurant in @Model.Restaurants)
                {
                    <div>
                    <li class="list-group-item d-flex justify-content-between align-items-start">
                        <div class="ms-2 me-auto">
                            <div class="fw-bold"><i class="fa fa-utensils"></i> @restaurant.Name</div>
                            <br>
                            Visit the restaurant <a asp-action="Details" asp-controller="Restaurant" asp-route-id="@restaurant.Id">here</a>
                        </div>
                         <a class="btn btn-danger delete mb-2 fas fa-delete rounded-pill" data-id="@restaurant.Id" data-controller="Plan" data-action="DeleteRestaurantFromPlan" data-body-message="Are you sure you want to delete this restaurant?">
                                <i class="fas fa-trash"></i>
                                Delete
                                </a>
                    </li>
                    </div>
                }

            </ol>
        }
    </td>
</tr>
